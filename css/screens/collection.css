
/* css/screens/collection.css */
/* Merged from menu-css/collection.css and css/collectioncardstyle.css */

#collection .collection-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 10px;
    justify-content: center;
    align-items: center;
}

#collection .collection-controls select {
    padding: 8px 12px;
    background-color: #f8f9fa; /* Light background */
    color: #333; /* Dark text */
    border-radius: 4px;
    border: 1px solid #ced4da; /* Standard light border */
    font-size: 0.85rem;
    font-family: var(--button-font);
}

.collection-stats-container {
    display: flex;
    flex-direction: row; 
    flex-wrap: wrap; 
    justify-content: center; 
    gap: 15px; 
    margin-bottom: 10px; 
    max-width: 800px; 
    margin-left: auto; 
    margin-right: auto; 
}

#collection .collection-stats-container p.collection-stats-text {
    text-align: center;
    font-size: 0.9rem;
    color: #3A3B3C; /* Dark text for the main label part */
    margin: 0; 
    padding: 6px 10px;
    background-color: rgba(255, 255, 255, 0.8); /* Light semi-transparent background */
    border-radius: 4px;
    border: 1px solid rgba(0,0,0,0.05);
    box-shadow: var(--elevation-dp1);
    flex: 1 1 auto; 
    min-width: 240px; 
}

/* Default style for all spans within stats text (primarily for values) */
#collection p.collection-stats-text span { 
    font-weight: 600;
    color: var(--material-primary); /* Values are primary color */
}

/* Specific override for the rarity completion label span */
#collection p.collection-stats-text span#rarity-completion-label {
    color: #3A3B3C; /* Dark text, same as the paragraph's base color */
    font-weight: normal; /* Standard font weight for labels */
}


.collection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
    margin-top: 8px;
    padding: 0 5px;
    flex-grow: 1;
    max-width: 1040px; 
    margin-left: auto;
    margin-right: auto;
}

.collection-grid .text-center p { 
    font-size: 0.8em;
    margin-top: 3px;
    color: #4F4F4F; /* Softer dark grey for base text */
}
/* Rarity text within .collection-grid .text-center p (e.g., .rarity-text-star) will inherit its specific color */

/* Card styles specific to collection enhancing global card styles */
.collection-grid .card {
    transition: border-color 0.3s ease-in-out,
                background-color 0.3s ease-in-out, 
                box-shadow 0.3s ease-in-out,
                transform 0.2s ease-out;
    background-color: var(--material-surface-2); 
    position: relative; 
    border-radius: 6px; 
    overflow: hidden; 
}
.collection-grid .card img {
    transition: filter 0.3s ease-in-out;
    position: relative;
    z-index: 1; 
    display: block; 
    width: 100%;
    height: 100%;
    object-fit: cover; 
    border-radius: inherit; 
}
.collection-grid .card::before,
.collection-grid .card::after {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    border-radius: inherit;
    pointer-events: none;
    box-sizing: border-box;
    transition: opacity 0.3s ease-in-out, background 0.3s ease-in-out, border 0.3s ease-in-out, content 0.3s ease-in-out;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Times New Roman', Times, serif; 
}
.collection-grid .card::before { z-index: 2; /* Original intent: border or primary effect */ }
.collection-grid .card::after { z-index: 3; /* Original intent: text symbol overlay */ }
/* Ensure ::after doesn't fully block ::before if both have backgrounds, adjust display or background properties as needed. */
/* By default, content: "" is set in global, so these will inherit that unless overridden by specific content below. */


.collection-grid .card.base { box-shadow: 0 0 4px color-mix(in srgb, var(--base-color, #B0BEC5) 25%, transparent); }
.collection-grid .card.base::before { border: 3px solid var(--base-color, #B0BEC5); border-radius: inherit; }
/* .collection-grid .card.base::after { content: '‚óè'; font-size: 18px; color: color-mix(in srgb, var(--base-color, #B0BEC5) 50%, transparent); opacity: 0.6; position: absolute; bottom: 5px; right: 7px; text-shadow: 0 0 2px rgba(0,0,0,0.2); } */
.collection-grid .card.base::after { content: ''; /* Removed text symbol */ opacity: 0.6; position: absolute; bottom: 5px; right: 7px; }


.collection-grid .card.rare { border: 3px solid transparent; border-image: linear-gradient(145deg, #C0C0C0, #909090, #B0B0B0, #C0C0C0) 1; box-shadow: 0 0 5px color-mix(in srgb, #A9A9A9 35%, transparent); }
/* .collection-grid .card.rare::after { content: '‚ô¶'; font-size: 28px; font-weight: bold; color: var(--rare-color, #42A5F5); opacity: 0.8; text-shadow: 1px 1px 3px rgba(0,0,0,0.3); position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); } */
.collection-grid .card.rare::after { content: ''; /* Removed text symbol */ opacity: 0.8; position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); }


.collection-grid .card.foil { border: 3px solid transparent; border-image: linear-gradient(145deg, #CD7F32, #8C7853, #B87333, #CD7F32) 1; box-shadow: 0 0 6px color-mix(in srgb, #B87333 35%, transparent); }
.collection-grid .card.foil::before { background-image: url("data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Cpattern id='paperTexture' patternUnits='userSpaceOnUse' width='50' height='50'%3E%3Crect width='50' height='50' fill='hsl(30, 20%, 85%)'/%3E%3Crect width='50' height='50' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='50' height='50' fill='url(%23paperTexture)'/%3E%3C/svg%3E"); background-color: rgba(200, 160, 120, 0.08); mix-blend-mode: overlay; opacity: 0.5; z-index: 2; }
/* .collection-grid .card.foil::after { content: 'ùìï'; font-family: 'Georgia', serif; font-size: 32px; font-weight: bold; color: color-mix(in srgb, #CD7F32 80%, #5A3A1F); opacity: 0.85; text-shadow: 1px 1px 0px #fff, -1px -1px 0px color-mix(in srgb, #8C7853 50%, black); position: absolute; top: 5px; left: 8px; transform: rotate(-10deg); z-index: 3; } */
.collection-grid .card.foil::after { content: ''; /* Removed text symbol */ opacity: 0.85; position: absolute; top: 5px; left: 8px; transform: rotate(-10deg); }
.collection-grid .card.foil img { mix-blend-mode: luminosity; filter: sepia(0.05) contrast(1.05) brightness(1.02); }


@keyframes collectionHoloBorderAnimation { 0% { border-image-source: conic-gradient(from 0deg, #FF0000, #FFFF00, #00FF00, #00FFFF, #0000FF, #FF00FF, #FF0000); } 100% { border-image-source: conic-gradient(from 360deg, #FF0000, #FFFF00, #00FF00, #00FFFF, #0000FF, #FF00FF, #FF0000); } }
@keyframes collectionHoloReflectionAndTextAnimation { 0%, 100% { background-position: -120% -120%; opacity: 0; /* color: transparent; */ } 20% { opacity: 0.3; /* color: rgba(255, 255, 220, 0.4); */ } 50% { /* color: rgba(220, 255, 255, 0.5); */ } 80% { opacity: 0.3; /* color: rgba(255, 220, 255, 0.4); */ } }
.collection-grid .card.holo { border: 4px solid transparent; border-image-slice: 1; animation: collectionHoloBorderAnimation 6s linear infinite; box-shadow: 0 0 8px color-mix(in srgb, var(--holo-color, #FFEE58) 35%, transparent); }
/* .collection-grid .card.holo::after { content: '‚úß‚ú®‚úß'; font-size: 26px; text-shadow: 0 0 5px white, 0 0 10px var(--holo-color, #FFEE58); background: linear-gradient(110deg, transparent 30%, rgba(255, 255, 255, 0.35) 48%, rgba(255, 255, 255, 0.35) 52%, transparent 70%); background-size: 350% 350%; animation: collectionHoloReflectionAndTextAnimation 4.5s ease-in-out infinite alternate; opacity: 0; backdrop-filter: blur(0.3px); mix-blend-mode: screen; z-index: 3; display: flex; align-items: center; justify-content: center; } */
.collection-grid .card.holo::after { content: ''; /* Removed text symbol */ background: linear-gradient(110deg, transparent 30%, rgba(255, 255, 255, 0.35) 48%, rgba(255, 255, 255, 0.35) 52%, transparent 70%); background-size: 350% 350%; animation: collectionHoloReflectionAndTextAnimation 4.5s ease-in-out infinite alternate; opacity: 0; backdrop-filter: blur(0.3px); mix-blend-mode: screen; } /* Keep display flex for other potential content or ensure it doesn't break layout */


.collection-grid .card.star { border: 3px solid var(--star-color, #FFA726); box-shadow: 0 0 7px color-mix(in srgb, var(--star-color, #FFA726) 35%, transparent); }
/* .collection-grid .card.star::before { content: '‚òÖ'; position: absolute; top: 2px; left: 4px; font-size: 18px; font-weight: bold; color: var(--star-color, #FFA726); text-shadow: 0 0 3px white, 0 0 6px color-mix(in srgb, var(--star-color, #FFA726) 70%, transparent); z-index: 4; transform: rotate(-12deg); } */
/* .collection-grid .card.star::after { content: '‚ú¶'; position: absolute; bottom: 2px; right: 4px;  font-size: 20px; font-weight: bold; color: white; text-shadow: 0 0 4px var(--star-color, #FFA726), 0 0 8px var(--star-color, #FFA726); z-index: 4; transform: rotate(8deg); } */
.collection-grid .card.star::before { content: ''; /* Removed text symbol */ position: absolute; top: 2px; left: 4px; z-index: 4; transform: rotate(-12deg); }
.collection-grid .card.star::after { content: ''; /* Removed text symbol */ position: absolute; bottom: 2px; right: 4px; z-index: 4; transform: rotate(8deg); }


@keyframes collectionRainyBorderAnimation { 0%, 100% { border-image-source: linear-gradient(160deg, hsl(210, 50%, 50%), hsl(230, 40%, 45%)); } 50% { border-image-source: linear-gradient(160deg, #FF7B7B, #FFDD7B, #7BFF8D, #7BC9FF, #A87BFF, #FF7BF5); } }
@keyframes collectionRainyOverlayAndTextAnimation { 0%, 45%, 100% { background-image: repeating-linear-gradient(0deg, rgba(173, 216, 230, 0.15) 0px, rgba(173, 216, 230, 0.15) 1px, transparent 1px, transparent 6px); opacity: 0.4; /* color: color-mix(in srgb, var(--rainy-color-1, hsl(210,70%,60%)) 70%, white); */ } 50% { opacity: 0; /* color: transparent; */ } 55%, 95% { background-image: linear-gradient(to bottom, rgba(255, 123, 123, 0.15) 0%, rgba(255, 221, 123, 0.15) 20%, rgba(123, 255, 141, 0.15) 40%, rgba(123, 201, 255, 0.15) 60%, rgba(168, 123, 255, 0.15) 80%, rgba(255, 123, 245, 0.15) 100%); opacity: 0.35; /* color: color-mix(in srgb, #FFDD7B 60%, white); */ } }
.collection-grid .card.rainy { border: 3px solid transparent; border-image-slice: 1; animation: collectionRainyBorderAnimation 9s linear infinite; box-shadow: 0 0 7px color-mix(in srgb, var(--rainy-color-1, hsl(210,70%,60%)) 30%, transparent); }
/* .collection-grid .card.rainy::after { content: 'Aquaüíß'; font-family: 'Comic Sans MS', cursive, sans-serif; font-size: 20px; font-weight: bold; text-shadow: 0 0 3px rgba(255,255,255,0.5); animation: collectionRainyOverlayAndTextAnimation 9s linear infinite; z-index: 3; display: flex; align-items: center; justify-content: center; text-align: center; padding: 5px; } */
.collection-grid .card.rainy::after { content: ''; /* Removed text symbol */ animation: collectionRainyOverlayAndTextAnimation 9s linear infinite; z-index: 3; display: flex; align-items: center; justify-content: center; text-align: center; padding: 5px; }


.collection-grid .card.gold { border: 4px solid transparent; border-image: linear-gradient(145deg, #FFF8DC, var(--gold-color, #FFCA28) 25% 75%, #B8860B) 1; box-shadow: 0 0 10px color-mix(in srgb, var(--gold-color, #FFCA28) 45%, transparent); }
.collection-grid .card.gold::before { background: linear-gradient(135deg, rgba(255, 223, 0, 0.15) 0%, rgba(218, 165, 32, 0.2) 50%, rgba(184, 134, 11, 0.25) 100% ); mix-blend-mode: color-dodge; opacity: 0.6; z-index: 2; }
.collection-grid .card.gold::after {
    content: ''; /* Ensured no text symbol */
    background-image:
      radial-gradient(ellipse at 70% 70%, rgba(255, 215, 0, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 30% 30%, rgba(255, 223, 186, 0.1) 0%, transparent 40%);
    background-size: 100% 100%; /* Cover the area */
    mix-blend-mode: color-dodge; /* Soft light effect */
    opacity: 0.7; /* Subtle effect */
    z-index: 1; /* Below ::before if ::before has border elements, but above base */
    /* display: flex; align-items: center; justify-content: center; /* Not needed if no content */
}
.collection-grid .card.gold img { filter: contrast(1.05) brightness(1.03) saturate(1.05); }


@keyframes collectionShinyBorderAnimation { 0%, 100% { border-image-source: conic-gradient(from 45deg, #ffffff, var(--shiny-color, #C5CAE9), #e0e0ff, #d1fff8, var(--shiny-color, #C5CAE9), #ffffff); } 50% { border-image-source: conic-gradient(from 225deg, #ffffff, var(--shiny-color, #C5CAE9), #e0e0ff, #d1fff8, var(--shiny-color, #C5CAE9), #ffffff); } }
/* Refined animation for placeholder: focus on a soft pulse/shimmer of light */
@keyframes collectionShinyPlaceholderAnimation {
    0%, 100% { opacity: 0.2; filter: brightness(1.1); }
    50% { opacity: 0.5; filter: brightness(1.3) drop-shadow(0 0 5px rgba(220,220,255,0.3)); }
}
.collection-grid .card.shiny { border: 4px solid transparent; border-image-slice: 1; animation: collectionShinyBorderAnimation 7s linear infinite; box-shadow: 0 0 12px color-mix(in srgb, var(--shiny-color, #C5CAE9) 55%, white); }
.collection-grid .card.shiny::before {
    background-image:
        radial-gradient(ellipse at center, rgba(255,255,255,0.2) 0%, transparent 70%),
        repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.02) 3px, rgba(255,255,255,0.02) 4px),
        repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.02) 3px, rgba(255,255,255,0.02) 4px);
    opacity: 0.7;
    z-index: 2;
    mix-blend-mode: screen; /* Soften the effect */
}
.collection-grid .card.shiny::after {
    content: ''; /* Ensured no text symbol */
    /* Use a soft, pulsing/shimmering background for the placeholder */
    background: radial-gradient(ellipse at 50% 50%,
        rgba(230, 230, 255, 0.4) 0%,
        rgba(200, 200, 255, 0.1) 40%,
        transparent 70%);
    animation: collectionShinyPlaceholderAnimation 3s ease-in-out infinite alternate; /* New animation */
    opacity: 0; /* Initial state for animation */
    z-index: 1; /* Below border from ::before */
    /* display: flex; align-items: center; justify-content: center; /* Not needed */
}
.collection-grid .card.shiny img { filter: brightness(1.03) contrast(1.08); }

.collection-grid .card:hover {
    transform: translateY(-4px) scale(1.03);
    z-index: 10; 
}

@media (max-width: 1080px) { .collection-grid { max-width: 910px; } }
@media (max-width: 768px) { .collection-grid { grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 8px; max-width: 100%; } .collection-stats-container { max-width: 95%; } #collection .collection-stats-container p.collection-stats-text { font-size: 0.85rem; min-width: 200px; } }
@media (max-width: 480px) { .collection-grid { grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 6px; } .collection-stats-container { flex-direction: column; align-items: center; gap: 8px; max-width: 90%; } #collection .collection-stats-container p.collection-stats-text { width: 100%; min-width: unset; max-width: 300px; } }
